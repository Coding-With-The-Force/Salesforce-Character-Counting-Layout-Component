<!--
 - Created by gerry on 4/30/2022.
 -->

<!-- Character Counting Component -->
<template>
	<lightning-card class="card-background" if:true={displayAsIndependentSection} title={sectionHeader} variant="narrow">
		<c-character_counter_record_view_form if:true={notEditingAndDataRetrieved}
											  record-id={recordId}
											  object-api-name={objectApiName}
											  field-data={fieldData}
											  render-edit-button={renderEditButton}
											  onenableedit={enableEditing}>
		</c-character_counter_record_view_form>
		<c-character_counter_record_edit_component if:true={userEditing}
												   record-id={recordId}
												   object-api-name={objectApiName}
												   field-data={fieldData}
												   render-save-button={renderSaveButton}
												   ondisableedit={disableEditing}
												   onupdatefielddata={updateFieldData}>
		</c-character_counter_record_edit_component>
	</lightning-card>

	<lightning-accordion if:true={displayAsFieldSection} active-section-name={sectionHeader}>
		<lightning-accordion-section class="counting-accordion" if:true={displayAsFieldSection} name={sectionHeader} label={sectionHeader}>
			<c-character_counter_record_view_form if:true={notEditingAndDataRetrieved}
												  record-id={recordId}
												  object-api-name={objectApiName}
												  field-data={fieldData}
												  render-edit-button={renderEditButton}
												  onenableedit={enableEditing}>
			</c-character_counter_record_view_form>
			<c-character_counter_record_edit_component if:true={userEditing}
													   record-id={recordId}
													   object-api-name={objectApiName}
													   field-data={fieldData}
													   render-save-button={renderSaveButton}
													   ondisableedit={disableEditing}
													   onupdatefielddata={updateFieldData}>
			</c-character_counter_record_edit_component>
		</lightning-accordion-section>
	</lightning-accordion>
</template>